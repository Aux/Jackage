<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:j="clr-namespace:Jackage"
			 xmlns:v="clr-namespace:Jackage.Views"
			 xmlns:i="clr-namespace:Projektanker.Icons.Avalonia;assembly=Projektanker.Icons.Avalonia"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Jackage.Views.LibraryView">
	
	<UserControl.Resources>
		<j:BitmapAssetValueConverter x:Key="variableImage"/>
	</UserControl.Resources>
	
	<Panel>
		<StackPanel>
			<Panel>
				<v:MenuView />
			</Panel>

			<ItemsControl Grid.ColumnSpan="5" Items="{Binding Manifest}">
				<ItemsControl.ItemTemplate>
					<v:PackTemplateSelector>
						
						<DataTemplate x:Key="Enabled">
							<Button Margin="10" Padding="5" Width="132" Height="176" HorizontalAlignment="Left" VerticalAlignment="Top"
								ToolTip.Tip="{Binding Name}">
								<Panel>
									<Image Source="{Binding	CoverArtPath, Converter={StaticResource variableImage}}" />
									<PathIcon Width="50" Height="50" Data="{StaticResource	add_square_regular}" />
								</Panel>
							</Button>
						</DataTemplate>
						
						<DataTemplate x:Key="Disabled">
							<Button Margin="10" Padding="5" Width="132" Height="176" HorizontalAlignment="Left" VerticalAlignment="Top"
								ToolTip.Tip="{Binding Name}">
								<Panel>
									<Image Source="{Binding CoverArtPath, Converter={StaticResource variableImage}}" />
									<PathIcon Width="50" Height="50" Data="{StaticResource lock_multiple_regular}" />
									<Panel HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="Black" Opacity="100"/>
								</Panel>
							</Button>
						</DataTemplate>
						
					</v:PackTemplateSelector>
				</ItemsControl.ItemTemplate>
				
				<ItemsControl.ItemsPanel>
					<ItemsPanelTemplate>
						<WrapPanel Margin="30,0,30,15" />
					</ItemsPanelTemplate>
				</ItemsControl.ItemsPanel>
				
			</ItemsControl>
		</StackPanel>
	</Panel>
</UserControl>
